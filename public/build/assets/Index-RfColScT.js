import{d as v,r as m,l as h,c as k,o as i,w as n,g as d,a as t,u as w,m as _,b as a,i as D,v as C,e as f,p as F,F as L,f as A,q as S,t as u,C as V}from"./app-DYQAJEWz.js";import{_ as c}from"./TextLink.vue_vue_type_script_setup_true_lang-CZLXCsjs.js";import{M as B}from"./MonLayout-2anWJ7aJ.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-B5-4KPiL.js";import"./utils-6mK0P-x2.js";const M={class:"container mx-auto px-4 py-8 pt-2 text-gray-900 dark:text-gray-100"},N={class:"flex items-center justify-between mb-6 animate-fade-in"},T={class:"relative mb-6 animate-slide-up",style:{animationDelay:"0.2s"}},$={class:"rounded-xl shadow-lg bg-white dark:bg-gray-800 animate-fade-in pb-4",style:{animationDelay:"0.4s"}},j={class:"max-h-[500px] overflow-auto"},q={class:"min-w-full table-fixed border-collapse"},z={class:"px-2 py-3 text-gray-900 dark:text-gray-100 text-sm"},E={class:"px-2 py-3 text-gray-900 dark:text-gray-100 text-sm"},G=["title"],R={class:"px-2 py-3 flex space-x-2"},U=["onClick"],H={key:0,class:"p-6 text-center text-gray-500 dark:text-gray-400 animate-pulse"},J=v({__name:"Index",props:{formations:{type:Array,required:!0}},setup(p){const x=p,l=m(""),o=m([...x.formations]);h(l,()=>{y()});function y(){l.value?o.value=x.formations.filter(r=>r.titre.toLowerCase().includes(l.value.toLowerCase())):o.value=[...x.formations]}function g(r){confirm("Êtes-vous sûr de vouloir supprimer cette formation ?")&&V().delete(route("formations.destroy",r),{preserveScroll:!0,onSuccess:()=>{o.value=o.value.filter(e=>e.id!==r)}})}return(r,e)=>(i(),k(B,null,{default:n(()=>[d(w(_),{title:"Liste des Formations"}),t("div",M,[t("div",N,[e[3]||(e[3]=t("h1",{class:"text-3xl font-extrabold flex items-center text-primary"},[t("i",{class:"fas fa-book mr-3 text-blue-500 dark:text-blue-400"}),a(" Liste des Formations ")],-1)),t("div",T,[e[1]||(e[1]=t("i",{class:"fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400"},null,-1)),D(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>l.value=s),placeholder:"Rechercher une formation...",class:"w-full pl-12 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300"},null,512),[[C,l.value]])]),d(c,{href:"/formations/create",class:"bg-green-600 text-white px-4 py-2 rounded-lg shadow-md hover:bg-green-700 transition-all duration-300 flex items-center"},{default:n(()=>e[2]||(e[2]=[t("i",{class:"fas fa-plus mr-2"},null,-1),a(" Ajouter ")])),_:1})]),t("div",$,[t("div",j,[t("table",q,[e[7]||(e[7]=t("thead",{class:"bg-gray-100 dark:bg-gray-700 sticky top-0 z-10"},[t("tr",null,[t("th",{class:"w-16 px-2 py-3 text-left font-semibold text-gray-700 dark:text-gray-200 text-sm"},[t("i",{class:"fas fa-id-badge mr-1"}),a("ID ")]),t("th",{class:"w-28 px-2 py-3 text-left font-semibold text-gray-700 dark:text-gray-200 text-sm"},[t("i",{class:"fas fa-book mr-1"}),a("Titre ")]),t("th",{class:"w-32 px-2 py-3 text-left font-semibold text-gray-700 dark:text-gray-200 text-sm"},[t("i",{class:"fas fa-info-circle mr-1"}),a("Description ")]),t("th",{class:"w-40 px-2 py-3 text-left font-semibold text-gray-700 dark:text-gray-200 text-sm"},[t("i",{class:"fas fa-cogs mr-1"}),a("Actions ")]),t("th",{class:"w-40 px-2 py-3 text-left font-semibold text-gray-700 dark:text-gray-200 text-sm"},[t("i",{class:"fas fa-cogs mr-1"}),a("Disciplines ")])])],-1)),t("tbody",null,[(i(!0),f(L,null,A(o.value,(s,b)=>(i(),f("tr",{key:s.id,class:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 animate-row-in",style:S({animationDelay:`${.1*b}s`})},[t("td",z,u(s.id),1),t("td",E,u(s.titre),1),t("td",{class:"px-2 py-3 text-gray-900 dark:text-gray-100 text-sm truncate",title:s.description},u(s.description.length>30?s.description.substring(0,30)+"...":s.description),9,G),t("td",R,[d(c,{href:r.route("formations.edit",s.id),class:"text-yellow-600 dark:text-yellow-400 hover:text-yellow-700 dark:hover:text-yellow-300 transition-colors duration-200 flex items-center text-sm"},{default:n(()=>e[4]||(e[4]=[t("i",{class:"fas fa-edit mr-1 animate-pulse"},null,-1),a(" Modifier ")])),_:2},1032,["href"]),t("button",{onClick:K=>g(s.id),class:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 transition-colors duration-200 flex items-center text-sm"},e[5]||(e[5]=[t("i",{class:"fas fa-trash mr-1 animate-pulse"},null,-1),a(" Supprimer ")]),8,U)]),t("td",null,[d(c,{href:r.route("formations.manageDisciplineAssociations",s.id),class:"text-blue-500 hover:text-blue-700"},{default:n(()=>e[6]||(e[6]=[a(" Gérer Disciplines ")])),_:2},1032,["href"])])],4))),128))])]),o.value.length===0?(i(),f("div",H,e[8]||(e[8]=[t("i",{class:"fas fa-exclamation-circle mr-2 text-xl"},null,-1),a(" Aucun formation trouvé ")]))):F("",!0)])])])]),_:1}))}}),Z=I(J,[["__scopeId","data-v-32dfd5ef"]]);export{Z as default};
