import{d as _,j as h,C as w,c as F,q as A,g as r,o as a,e as f,u as n,m as D,w as C,b as e,f as c,t as d,F as m,r as g,i as x,k as M,l as y,p as N,y as S}from"./app-B8sK6mT7.js";import{M as V}from"./MonLayout-Be8amDrU.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-Bt9Jo_47.js";import"./utils-BkEj0vKC.js";import"./TextLink.vue_vue_type_script_setup_true_lang-Co5ZD3qj.js";import"./sun-DnTlANd8.js";import"./createLucideIcon-SsYci3h-.js";const B={class:"container mx-auto px-4 py-6 sm:px-6 lg:px-8 pb-16"},E={class:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-gray-900 dark:text-gray-100 mb-6 flex items-center animate-fade-in"},L={class:"mb-8 bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-lg transition-all duration-300"},U={key:0,class:"space-y-4"},q={class:"text-base sm:text-lg font-semibold text-gray-800 dark:text-gray-200"},z={class:"mt-2 text-sm sm:text-base text-gray-700 dark:text-gray-300 grid grid-cols-1 sm:grid-cols-2 gap-2"},T={key:0,class:"text-gray-500 dark:text-gray-400 text-sm sm:text-base"},$={key:1,class:"text-gray-500 dark:text-gray-400 text-sm sm:text-base"},G={class:"mb-6"},H={class:"relative"},I=["value"],J={key:0,class:"mb-6"},K={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 max-h-64 overflow-y-auto p-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-900 transition-all duration-200"},O=["value"],P={class:"text-gray-900 dark:text-gray-100 text-sm sm:text-base"},Q={key:0,class:"text-gray-500 dark:text-gray-400 text-sm sm:text-base p-2"},R=["disabled"],W={key:0},X={key:1,class:"flex items-center"},Y=_({__name:"FomateurFormationDisciplineAssociations",props:{formateur:{},disciplines:{},formations:{},formateurFormations:{}},setup(k){const p=k,l=h(""),i=w({discipline_ids:[],formation_id:""}),b=F(()=>{if(!l.value)return[];const o=p.formations.find(t=>t.id===Number(l.value));return o?o.disciplines:[]});A(l,o=>{if(i.formation_id=o,o){const t=Number(o);i.discipline_ids=p.formateur.disciplines.filter(s=>s.formation_id===t).map(s=>s.id)}else i.discipline_ids=[]});function v(){i.post(route("formateurs.updateFormateurFormationDisciplineAssociations",p.formateur.id),{preserveScroll:!0,onSuccess:()=>{}})}return(o,t)=>(a(),r(m,null,[f(n(D),{title:`Associer ${o.formateur.nom} à des Disciplines`},null,8,["title"]),f(V,null,{default:C(()=>[e("div",B,[e("h1",E,[t[2]||(t[2]=e("i",{class:"fas fa-user-tie mr-3 text-blue-500 dark:text-blue-400 text-xl sm:text-2xl"},null,-1)),c(" Associer "+d(o.formateur.nom)+" à des Disciplines ",1)]),e("section",L,[t[4]||(t[4]=e("h2",{class:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100 mb-4 flex items-center"},[e("i",{class:"fas fa-list mr-2 text-green-500 dark:text-green-400"}),c(" Associations actuelles ")],-1)),o.formateurFormations.length>0?(a(),r("div",U,[(a(!0),r(m,null,g(o.formateurFormations,s=>(a(),r("div",{key:s.id,class:"border-b border-gray-200 dark:border-gray-700 pb-4 last:border-b-0"},[e("h3",q,d(s.titre),1),e("ul",z,[(a(!0),r(m,null,g(s.disciplines,u=>(a(),r("li",{key:u.id,class:"flex items-center space-x-2"},[t[3]||(t[3]=e("i",{class:"fas fa-check-circle text-green-500 dark:text-green-400 text-sm"},null,-1)),e("span",null,d(u.nom),1)]))),128))]),s.disciplines.length===0?(a(),r("p",T," Aucune discipline associée à cette formation. ")):x("",!0)]))),128))])):(a(),r("p",$," Aucune formation ou discipline actuellement associée au formateur. "))]),e("form",{onSubmit:M(v,["prevent"]),class:"max-w-3xl mx-auto bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-lg transition-all duration-300"},[e("div",G,[t[7]||(t[7]=e("label",{for:"formation",class:"block text-sm sm:text-base font-medium text-gray-700 dark:text-gray-200 mb-2"}," Choisir une Formation pour modification ",-1)),e("div",H,[t[6]||(t[6]=e("i",{class:"fas fa-book absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400"},null,-1)),y(e("select",{id:"formation","onUpdate:modelValue":t[0]||(t[0]=s=>l.value=s),class:"pl-10 pr-4 py-2 sm:py-3 w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 dark:text-gray-100 text-sm sm:text-base"},[t[5]||(t[5]=e("option",{value:""},"Sélectionnez une formation",-1)),(a(!0),r(m,null,g(o.formations,s=>(a(),r("option",{key:s.id,value:s.id},d(s.titre),9,I))),128))],512),[[N,l.value]])])]),l.value?(a(),r("div",J,[t[8]||(t[8]=e("label",{class:"block text-sm sm:text-base font-medium text-gray-700 dark:text-gray-200 mb-2"}," Disciplines ",-1)),e("div",K,[(a(!0),r(m,null,g(b.value,s=>(a(),r("label",{key:s.id,class:"flex items-center space-x-2 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors duration-150"},[y(e("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=u=>n(i).discipline_ids=u),value:s.id,class:"h-4 w-4 text-blue-500 focus:ring-blue-500 border-gray-300 dark:border-gray-700 rounded"},null,8,O),[[S,n(i).discipline_ids]]),e("span",P,d(s.nom),1)]))),128)),b.value.length===0?(a(),r("p",Q," Aucune discipline associée à cette formation. ")):x("",!0)])])):x("",!0),e("button",{type:"submit",disabled:n(i).processing||!l.value,class:"w-full bg-blue-500 text-white rounded-lg py-2 sm:py-3 text-sm sm:text-base hover:bg-blue-600 transition-all duration-300 flex items-center justify-center shadow-md disabled:bg-gray-400 dark:disabled:bg-gray-600"},[n(i).processing?(a(),r("span",X,t[10]||(t[10]=[e("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),c(" Envoi en cours... ")]))):(a(),r("span",W,t[9]||(t[9]=[e("i",{class:"fas fa-save mr-2"},null,-1),c(" Mettre à jour les associations ")])))],8,R)],32)])]),_:1})],64))}}),lt=j(Y,[["__scopeId","data-v-9efae202"]]);export{lt as default};
