import{d as T,r as v,k as p,c as L,o as d,w as b,a as t,g as N,b as r,t as n,i as y,v as V,e as m,F as h,f as _,j as $,p as j,q as S}from"./app-C5mAe3Cb.js";import{M as B}from"./MonLayout-mDGy8B1u.js";import{_ as M}from"./TextLink.vue_vue_type_script_setup_true_lang-BCkI4tni.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DbSrxcCB.js";import"./utils-BBdAe5gO.js";const I={class:"p-6 bg-gray-900 text-gray-100 min-h-screen overflow-hidden"},E={class:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8"},G={class:"bg-gray-800 rounded-lg shadow-lg p-4 flex items-center justify-between transform hover:scale-105 transition-all duration-300 animate-bounce-in"},P={class:"flex items-center"},U={class:"text-lg font-bold text-white animate-number"},q={class:"bg-gray-800 rounded-lg shadow-lg p-4 flex items-center justify-between transform hover:scale-105 transition-all duration-300 animate-bounce-in"},z={class:"flex items-center"},Q={class:"text-lg font-bold text-white animate-number"},R={class:"bg-gray-800 rounded-lg shadow-lg p-4 flex items-center justify-between transform hover:scale-105 transition-all duration-300 animate-bounce-in"},H={class:"flex items-center"},J={class:"text-lg font-bold text-white truncate animate-text"},K={class:"flex flex-col sm:flex-row gap-4 mb-8"},O={class:"relative flex-1 animate-fade-up"},W={class:"relative animate-fade-up"},X=["value"],Y={class:"mb-4 text-gray-400"},Z={class:"bg-gray-800 rounded-xl shadow-2xl overflow-hidden transform transition-all duration-500 hover:shadow-[0_0_15px_rgba(59,130,246,0.5)]"},tt={class:"min-w-full"},et={class:"py-4 px-6 text-gray-100 hover:text-blue-300 transition-colors duration-200"},st={class:"py-4 px-6 text-gray-100 hover:text-blue-300 transition-colors duration-200"},ot={class:"py-4 px-6 text-gray-100 hover:text-green-300 transition-colors duration-200"},at={class:"py-4 px-6 text-gray-100 hover:text-purple-300 transition-colors duration-200"},nt=["onClick"],rt={class:"py-4 px-6 text-gray-100 hover:text-yellow-300 transition-colors duration-200"},lt={key:0,class:"p-6 text-center text-gray-400 animate-pulse"},it=T({__name:"Index",props:{apprenants:{},formations:{},selectedFormation:{}},setup(w){const l=w,f=v(""),i=v(l.selectedFormation),c=p(()=>l.apprenants.filter(o=>{const e=f.value.toLowerCase(),s=o.nom.toLowerCase().includes(e)||o.prenom.toLowerCase().includes(e)||o.user.email.toLowerCase().includes(e),u=i.value?o.formation_id===i.value:!0;return s&&u})),F=p(()=>c.value.length),k=p(()=>l.formations.length),C=p(()=>{var u;const o=l.formations.map(a=>({titre:a.titre,count:l.apprenants.filter(x=>x.formation_id===a.id).length})).sort((a,x)=>x.count-a.count),e=((u=o[0])==null?void 0:u.count)||0,s=o.filter(a=>a.count===e);return s.length>0?s.map(a=>`${a.titre} (${a.count})`).join(", "):"Aucune"}),A=o=>{const e=l.formations.find(s=>s.id===o);return e?e.titre:"Non assignée"},g=o=>{i.value=o};return(o,e)=>(d(),L(B,null,{default:b(()=>[t("div",I,[e[16]||(e[16]=t("h1",{class:"text-3xl font-extrabold mb-8 flex items-center animate-slide-in"},[t("i",{class:"fas fa-users mr-3 text-blue-400 text-4xl animate-spin-slow"}),r(" Gestion des Apprenants ")],-1)),N(M,{href:o.route("formateur.notes"),class:"text-blue-400 hover:text-blue-300 mb-4 inline-block"},{default:b(()=>e[3]||(e[3]=[t("i",{class:"fas fa-star mr-2"},null,-1),r(" Gérer les notes ")])),_:1},8,["href"]),t("div",E,[t("div",G,[t("div",P,[e[5]||(e[5]=t("i",{class:"fas fa-user-graduate text-2xl text-blue-400 mr-3 animate-pulse"},null,-1)),t("div",null,[e[4]||(e[4]=t("p",{class:"text-xs text-gray-400"},"Apprenants",-1)),t("h2",U,n(F.value),1)])])]),t("div",q,[t("div",z,[e[7]||(e[7]=t("i",{class:"fas fa-book-open text-2xl text-purple-400 mr-3 animate-pulse"},null,-1)),t("div",null,[e[6]||(e[6]=t("p",{class:"text-xs text-gray-400"},"Formations",-1)),t("h2",Q,n(k.value),1)])])]),t("div",R,[t("div",H,[e[9]||(e[9]=t("i",{class:"fas fa-star text-2xl text-yellow-400 mr-3 animate-pulse"},null,-1)),t("div",null,[e[8]||(e[8]=t("p",{class:"text-xs text-gray-400"},"Top Formation",-1)),t("h2",J,n(C.value),1)])])])]),t("div",K,[t("div",O,[e[10]||(e[10]=t("i",{class:"fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 animate-pulse"},null,-1)),y(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>f.value=s),type:"text",placeholder:"Rechercher par nom, prénom ou email",class:"w-full pl-12 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-md hover:shadow-xl transition-all duration-300 hover:bg-gray-700"},null,512),[[V,f.value]])]),t("div",W,[e[12]||(e[12]=t("i",{class:"fas fa-graduation-cap absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 animate-pulse"},null,-1)),y(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.value=s),onChange:e[2]||(e[2]=s=>g(i.value)),class:"pl-12 pr-10 py-3 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none shadow-md hover:shadow-xl transition-all duration-300 hover:bg-gray-700"},[e[11]||(e[11]=t("option",{value:null},"Toutes les formations",-1)),(d(!0),m(h,null,_(l.formations,s=>(d(),m("option",{key:s.id,value:s.id},n(s.titre),9,X))),128))],544),[[$,i.value]]),e[13]||(e[13]=t("i",{class:"fas fa-chevron-down absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 animate-bounce pointer-events-none"},null,-1))])]),t("p",Y,n(c.value.length)+" Apprenants trouvés",1),t("div",Z,[t("table",tt,[e[14]||(e[14]=t("thead",null,[t("tr",{class:"bg-gradient-to-r from-gray-700 to-gray-800 text-gray-200 animate-slide-in"},[t("th",{class:"py-4 px-6 text-left font-semibold"},[t("i",{class:"fas fa-user mr-2 text-blue-400 animate-pulse"}),r("Nom")]),t("th",{class:"py-4 px-6 text-left font-semibold"},[t("i",{class:"fas fa-user-circle mr-2 text-blue-400 animate-pulse"}),r("Prénom")]),t("th",{class:"py-4 px-6 text-left font-semibold"},[t("i",{class:"fas fa-phone mr-2 text-green-400 animate-pulse"}),r("Téléphone")]),t("th",{class:"py-4 px-6 text-left font-semibold"},[t("i",{class:"fas fa-graduation-cap mr-2 text-purple-400 animate-pulse"}),r("Formation")]),t("th",{class:"py-4 px-6 text-left font-semibold"},[t("i",{class:"fas fa-envelope mr-2 text-yellow-400 animate-pulse"}),r("Email")])])],-1)),t("tbody",null,[(d(!0),m(h,null,_(c.value,(s,u)=>(d(),m("tr",{key:s.id,class:"border-b border-gray-700 hover:bg-gray-700 transition-all duration-300 animate-row-in",style:S({animationDelay:`${.7+u*.1}s`})},[t("td",et,n(s.nom),1),t("td",st,n(s.prenom),1),t("td",ot,n(s.telephone),1),t("td",at,[t("span",{class:"bg-purple-900 text-purple-300 px-2 py-1 rounded-full text-sm cursor-pointer hover:bg-purple-800 transition-colors duration-200",onClick:a=>g(s.formation_id)},n(A(s.formation_id)),9,nt)]),t("td",rt,n(s.user.email),1)],4))),128))])]),c.value.length===0?(d(),m("div",lt,e[15]||(e[15]=[t("i",{class:"fas fa-exclamation-circle mr-2 text-xl animate-bounce"},null,-1),r(" Aucun apprenant trouvé ")]))):j("",!0)])])]),_:1}))}}),xt=D(it,[["__scopeId","data-v-41acd7fb"]]);export{xt as default};
