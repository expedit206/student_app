import{d as L,j as k,c as p,a as N,o as d,w,b as t,e as V,f as n,h as r,t as o,l as C,v as D,g as m,F as b,r as v,p as M,i as F,n as A}from"./app-lorCX1eB.js";import{M as S}from"./MonLayout-EQxw3vQZ.js";import{_ as B}from"./TextLink.vue_vue_type_script_setup_true_lang-CjKIcNLf.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D4wlLDbq.js";import"./utils-CYGYqgxY.js";import"./sun-BuT6VOkM.js";import"./createLucideIcon-CrA6qXj-.js";const z={class:"p-4 sm:p-6 bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen overflow-hidden"},E={class:"flex flex-col sm:flex-row items-center justify-between mb-8 animate-slide-in"},P={class:"text-2xl sm:text-3xl font-extrabold flex items-center"},U={class:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8"},G={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 flex items-center justify-between transform hover:scale-105 transition-all duration-300 animate-bounce-in"},Q={class:"flex items-center"},R={class:"ml-3"},q={class:"text-lg font-bold text-gray-900 dark:text-white animate-number"},J={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 flex items-center justify-between transform hover:scale-105 transition-all duration-300 animate-bounce-in"},K={class:"flex items-center"},O={class:"ml-3"},W={class:"text-lg font-bold text-gray-900 dark:text-white animate-number"},X={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 flex items-center justify-between transform hover:scale-105 transition-all duration-300 animate-bounce-in"},Y={class:"flex items-center"},Z={class:"ml-3"},tt={class:"text-sm sm:text-lg font-bold text-gray-900 dark:text-white truncate animate-text"},et={class:"flex flex-col sm:flex-row gap-4 mb-8"},at={class:"relative flex-1 animate-fade-up"},st={class:"relative animate-fade-up"},rt=["value"],ot={class:"mb-4 text-gray-600 dark:text-gray-400 text-sm sm:text-base"},lt={class:"hidden sm:block bg-white dark:bg-gray-800 rounded-xl shadow-2xl overflow-x-auto transform transition-all duration-500 hover:shadow-[0_0_15px_rgba(59,130,246,0.5)] animate-fade-in"},nt={class:"min-w-full"},it={class:"bg-gradient-to-r from-gray-200 dark:from-gray-700 to-gray-300 dark:to-gray-800 text-gray-700 dark:text-gray-200 animate-slide-in"},dt={class:"py-4 px-6 text-left font-semibold"},ut={class:"py-4 px-6 text-left font-semibold"},mt={class:"py-4 px-6 text-left font-semibold"},ct={class:"py-4 px-6 text-left font-semibold"},xt={class:"py-4 px-6 text-left font-semibold"},gt={class:"py-4 px-6 text-gray-900 dark:text-gray-100 hover:text-blue-700 dark:hover:text-blue-300 transition-colors duration-200"},pt={class:"py-4 px-6 text-gray-900 dark:text-gray-100 hover:text-blue-700 dark:hover:text-blue-300 transition-colors duration-200"},ft={class:"py-4 px-6 text-gray-900 dark:text-gray-100 hover:text-green-700 dark:hover:text-green-300 transition-colors duration-200"},yt={class:"py-4 px-6 text-gray-900 dark:text-gray-100 hover:text-purple-700 dark:hover:text-purple-300 transition-colors duration-200"},ht=["onClick"],bt={class:"py-4 px-6 text-gray-900 dark:text-gray-100 hover:text-yellow-700 dark:hover:text-yellow-300 transition-colors duration-200"},vt={key:0},_t={class:"sm:hidden grid grid-cols-1 gap-4 bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-4 animate-fade-in",style:{animationDelay:"0.4s"}},kt={class:"flex flex-col space-y-2"},wt={class:"flex items-center justify-between"},Ct=["title"],Ft=["title"],At={class:"text-sm text-gray-600 dark:text-gray-300"},$t=["onClick"],jt=["title"],Tt={key:0,class:"col-span-full p-4 text-center text-gray-500 dark:text-gray-400 animate-pulse bg-gray-50 dark:bg-gray-700 rounded-lg shadow-md border border-gray-200 dark:border-gray-600"},Ht=L({__name:"Index",props:{apprenants:{},formations:{},selectedFormation:{}},setup($){const c=$,f=k(""),x=k(c.selectedFormation),g=p(()=>c.apprenants.filter(l=>{const e=f.value.toLowerCase(),a=l.nom.toLowerCase().includes(e)||l.prenom.toLowerCase().includes(e)||l.user.email.toLowerCase().includes(e),u=x.value?l.formation_id===x.value:!0;return a&&u})),j=p(()=>g.value.length),T=p(()=>c.formations.length),H=p(()=>{var u;const l=c.formations.map(i=>({titre:i.titre,count:c.apprenants.filter(h=>h.formation_id===i.id).length})).sort((i,h)=>h.count-i.count),e=((u=l[0])==null?void 0:u.count)||0,a=l.filter(i=>i.count===e);return a.length>0?a.map(i=>`${i.titre} (${i.count})`).join(", "):"Aucune"}),_=l=>{const e=c.formations.find(a=>a.id===l);return e?e.titre:"Non assignée"},y=l=>{x.value=l},s={base:"text-blue-600 dark:text-blue-400",hover:"text-blue-700 dark:text-blue-300",phone:"text-green-600 dark:text-green-400",phoneHover:"text-green-700 dark:text-green-300",formation:"text-purple-600 dark:text-purple-400",formationHover:"text-purple-700 dark:text-purple-300",email:"text-yellow-600 dark:text-yellow-400",emailHover:"text-yellow-700 dark:text-yellow-300"};return(l,e)=>(d(),N(S,null,{default:w(()=>[t("div",z,[t("div",E,[t("h1",P,[t("i",{class:r(["fas fa-users mr-3 text-3xl sm:text-4xl",s.base,"animate-spin-slow"])},null,2),e[3]||(e[3]=n(" Mes Apprenants "))]),V(B,{href:l.route("formateur.notes"),class:"mt-4 sm:mt-0 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 flex items-center"},{default:w(()=>e[4]||(e[4]=[t("i",{class:"fas fa-star mr-2 animate-pulse"},null,-1),n(" Gérer les notes ")])),_:1},8,["href"])]),t("div",U,[t("div",G,[t("div",Q,[t("i",{class:r(["fas fa-user-graduate text-2xl",s.base,"animate-pulse"])},null,2),t("div",R,[e[5]||(e[5]=t("p",{class:"text-xs text-gray-600 dark:text-gray-400"},"Apprenants",-1)),t("h2",q,o(j.value),1)])])]),t("div",J,[t("div",K,[t("i",{class:r(["fas fa-book-open text-2xl",s.base,"animate-pulse"])},null,2),t("div",O,[e[6]||(e[6]=t("p",{class:"text-xs text-gray-600 dark:text-gray-400"},"Formations",-1)),t("h2",W,o(T.value),1)])])]),t("div",X,[t("div",Y,[t("i",{class:r(["fas fa-star text-2xl",s.base,"animate-pulse"])},null,2),t("div",Z,[e[7]||(e[7]=t("p",{class:"text-xs text-gray-600 dark:text-gray-400"},"Top Formation",-1)),t("h2",tt,o(H.value),1)])])])]),t("div",et,[t("div",at,[t("i",{class:r(["fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2",s.base,"animate-pulse"])},null,2),C(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>f.value=a),type:"text",placeholder:"Rechercher...",class:"w-full pl-12 pr-4 py-2 sm:py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-md hover:shadow-xl transition-all duration-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm sm:text-base"},null,512),[[D,f.value]])]),t("div",st,[t("i",{class:r(["fas fa-graduation-cap absolute left-4 top-1/2 transform -translate-y-1/2",s.base,"animate-pulse"])},null,2),C(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>x.value=a),onChange:e[2]||(e[2]=a=>y(x.value)),class:"w-full sm:w-64 pl-12 pr-10 py-2 sm:py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none shadow-md hover:shadow-xl transition-all duration-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm sm:text-base"},[e[8]||(e[8]=t("option",{value:null},"Toutes les formations",-1)),(d(!0),m(b,null,v(c.formations,a=>(d(),m("option",{key:a.id,value:a.id},o(a.titre),9,rt))),128))],544),[[M,x.value]]),t("i",{class:r(["fas fa-chevron-down absolute right-4 top-1/2 transform -translate-y-1/2",s.base,"animate-bounce pointer-events-none"])},null,2)])]),t("p",ot,o(g.value.length)+" Apprenants trouvés",1),t("div",lt,[t("table",nt,[t("thead",null,[t("tr",it,[t("th",dt,[t("i",{class:r(["fas fa-user mr-2",s.base,"animate-pulse"])},null,2),e[9]||(e[9]=n("Nom"))]),t("th",ut,[t("i",{class:r(["fas fa-user-circle mr-2",s.base,"animate-pulse"])},null,2),e[10]||(e[10]=n("Prénom "))]),t("th",mt,[t("i",{class:r(["fas fa-phone mr-2",s.phone,"animate-pulse"])},null,2),e[11]||(e[11]=n("Téléphone"))]),t("th",ct,[t("i",{class:r(["fas fa-graduation-cap mr-2",s.formation,"animate-pulse"])},null,2),e[12]||(e[12]=n("Formation "))]),t("th",xt,[t("i",{class:r(["fas fa-envelope mr-2",s.email,"animate-pulse"])},null,2),e[13]||(e[13]=n("Email"))])])]),t("tbody",null,[(d(!0),m(b,null,v(g.value,(a,u)=>(d(),m("tr",{key:a.id,class:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-300 animate-row-in",style:A({animationDelay:`${.7+u*.1}s`})},[t("td",gt,o(a.nom),1),t("td",pt,o(a.prenom),1),t("td",ft,o(a.telephone),1),t("td",yt,[t("span",{class:"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 px-2 py-1 rounded-full text-sm cursor-pointer hover:bg-purple-200 dark:hover:bg-purple-800 transition-colors duration-200",onClick:i=>y(a.formation_id)},o(_(a.formation_id)),9,ht)]),t("td",bt,o(a.user.email),1)],4))),128)),g.value.length===0?(d(),m("tr",vt,e[14]||(e[14]=[t("td",{colspan:"5",class:"p-6 text-center text-gray-500 dark:text-gray-400 animate-pulse"},[t("i",{class:"fas fa-exclamation-circle mr-2 text-xl animate-bounce"}),n(" Aucun apprenant trouvé ")],-1)]))):F("",!0)])])]),t("div",_t,[(d(!0),m(b,null,v(g.value,(a,u)=>(d(),m("div",{key:a.id,class:"bg-gray-50 dark:bg-gray-700 rounded-lg shadow-md border border-gray-200 dark:border-gray-600 p-4 hover:shadow-xl transition-all duration-300 animate-card-in",style:A({animationDelay:`${.7+u*.1}s`})},[t("div",kt,[t("div",wt,[t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 truncate",title:a.nom+" "+a.prenom},[t("i",{class:r(["fas fa-user mr-2",s.base])},null,2),n(" "+o(a.nom)+" "+o(a.prenom),1)],8,Ct)]),t("p",{class:"text-sm text-gray-600 dark:text-gray-300",title:a.telephone},[t("i",{class:r(["fas fa-phone mr-2",s.phone,"hover:"+s.phoneHover])},null,2),n(o(a.telephone),1)],8,Ft),t("p",At,[t("i",{class:r(["fas fa-graduation-cap mr-2",s.formation,"hover:"+s.formationHover])},null,2),t("span",{class:"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 px-2 py-1 rounded-full text-xs cursor-pointer hover:bg-purple-200 dark:hover:bg-purple-800 transition-colors duration-200",onClick:i=>y(a.formation_id)},o(_(a.formation_id)),9,$t)]),t("p",{class:"text-sm text-gray-600 dark:text-gray-300 truncate",title:a.user.email},[t("i",{class:r(["fas fa-envelope mr-2",s.email,"hover:"+s.emailHover])},null,2),n(o(a.user.email),1)],8,jt)])],4))),128)),g.value.length===0?(d(),m("div",Tt,e[15]||(e[15]=[t("i",{class:"fas fa-exclamation-circle mr-2 text-xl animate-bounce"},null,-1),n(" Aucun apprenant trouvé ")]))):F("",!0)])])]),_:1}))}}),zt=I(Ht,[["__scopeId","data-v-db264236"]]);export{zt as default};
