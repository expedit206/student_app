import{d as j,r as f,l as A,k as h,e as n,o as d,g as c,u as F,m as I,w as y,a as t,b as r,t as l,i as k,v as T,F as p,f as w,j as B,p as _,q as H,C as $}from"./app-B8cP6UDv.js";import{_ as C}from"./TextLink.vue_vue_type_script_setup_true_lang-CRGwyA9q.js";import{M as z}from"./MonLayout-CiadOcLl.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BuqfFplo.js";import"./utils-DIVxzRO3.js";const q={class:"container mx-auto px-4 py-6"},E={class:"flex flex-col sm:flex-row items-center justify-between mb-6 animate-fade-in"},R={class:"text-2xl sm:text-3xl font-extrabold text-gray-900 dark:text-gray-100 flex items-center"},G={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6"},J={class:"relative animate-slide-up"},K={class:"relative animate-slide-up"},O=["value"],Q={class:"overflow-x-auto rounded-xl shadow-lg bg-white dark:bg-gray-800 animate-fade-in"},W={class:"max-h-[60vh] overflow-y-auto"},X={class:"min-w-full table-fixed"},Y={class:"px-4 py-3 text-gray-900 dark:text-gray-100 text-sm"},Z=["title"],tt=["title"],et={class:"px-4 py-3 text-gray-900 dark:text-gray-100 text-sm"},st={class:"px-4 py-3 text-gray-900 dark:text-gray-100 text-sm"},at=["title"],rt={class:"px-4 py-3 text-gray-900 dark:text-gray-100 text-sm"},lt={class:"px-4 py-3 flex space-x-2"},ot=["onClick"],it={key:0},nt={key:0,class:"flex justify-between items-center py-2 px-4 bg-gray-50 dark:bg-gray-700 rounded-b-lg text-sm"},dt=["disabled"],ut={class:"text-gray-700 dark:text-gray-200"},xt=["disabled"],b=10,ft=j({__name:"Index",props:{disciplines:{},formations:{}},setup(D){const g=D,u=f(""),x=f(""),i=f([...g.disciplines]),o=f(1);A([u,x],()=>{L(),o.value=1});function L(){let a=[...g.disciplines];u.value&&(a=a.filter(e=>e.nom.toLowerCase().includes(u.value.toLowerCase())||e.description&&e.description.toLowerCase().includes(u.value.toLowerCase()))),x.value&&(a=a.filter(e=>e.formations.some(s=>s.id===Number(x.value)))),i.value=a}function P(a){confirm("Êtes-vous sûr de vouloir supprimer cette discipline ?")&&$().delete(route("disciplines.destroy",a),{preserveScroll:!0,onSuccess:()=>{i.value=i.value.filter(e=>e.id!==a)}})}const v=h(()=>{const a=(o.value-1)*b,e=a+b;return i.value.slice(a,e)}),m=h(()=>Math.ceil(i.value.length/b));function M(){o.value>1&&o.value--}function N(){o.value<m.value&&o.value++}function S(a,e){return a?a.length>e?a.substring(0,e)+"...":a:"Aucune description"}return(a,e)=>(d(),n(p,null,[c(F(I),{title:"Liste des Disciplines"}),c(z,null,{default:y(()=>[t("div",q,[t("div",E,[t("h1",R,[e[2]||(e[2]=t("i",{class:"fas fa-book mr-3 text-blue-500 dark:text-blue-400"},null,-1)),r(" Liste des Disciplines ("+l(i.value.length)+") ",1)]),c(C,{href:a.route("disciplines.create"),class:"mt-4 sm:mt-0 bg-green-600 text-white px-4 py-2 rounded-lg shadow-md hover:bg-green-700 transition-all duration-300 flex items-center"},{default:y(()=>e[3]||(e[3]=[t("i",{class:"fas fa-plus mr-2"},null,-1),r(" Ajouter une Discipline ")])),_:1},8,["href"])]),t("div",G,[t("div",J,[e[4]||(e[4]=t("i",{class:"fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400"},null,-1)),k(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>u.value=s),placeholder:"Rechercher par nom ou description...",class:"pl-12 pr-4 py-3 w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 dark:text-gray-100"},null,512),[[T,u.value]])]),t("div",K,[e[6]||(e[6]=t("i",{class:"fas fa-filter absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400"},null,-1)),k(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>x.value=s),class:"pl-12 pr-4 py-3 w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 dark:text-gray-100"},[e[5]||(e[5]=t("option",{value:""},"Toutes les formations",-1)),(d(!0),n(p,null,w(g.formations,s=>(d(),n("option",{key:s.id,value:s.id},l(s.titre)+" ("+l(s.id)+") ",9,O))),128))],512),[[B,x.value]])])]),t("div",Q,[t("div",W,[t("table",X,[e[10]||(e[10]=t("thead",{class:"bg-gray-100 dark:bg-gray-700 sticky top-0 z-10"},[t("tr",null,[t("th",{class:"w-16 px-4 py-3 text-left text-sm font-semibold text-gray-700 dark:text-gray-200"},[t("i",{class:"fas fa-id-badge mr-1"}),r("ID ")]),t("th",{class:"w-1/5 px-4 py-3 text-left text-sm font-semibold text-gray-700 dark:text-gray-200"},[t("i",{class:"fas fa-book-open mr-1"}),r("Nom ")]),t("th",{class:"w-1/4 px-4 py-3 text-left text-sm font-semibold text-gray-700 dark:text-gray-200"},[t("i",{class:"fas fa-info-circle mr-1"}),r("Description ")]),t("th",{class:"w-16 px-4 py-3 text-left text-sm font-semibold text-gray-700 dark:text-gray-200"},[t("i",{class:"fas fa-clock mr-1"}),r("H. Hebdo ")]),t("th",{class:"w-16 px-4 py-3 text-left text-sm font-semibold text-gray-700 dark:text-gray-200"},[t("i",{class:"fas fa-hourglass mr-1"}),r("H. Total ")]),t("th",{class:"w-1/5 px-4 py-3 text-left text-sm font-semibold text-gray-700 dark:text-gray-200"},[t("i",{class:"fas fa-user-tie mr-1"}),r("Formateur ")]),t("th",{class:"w-16 px-4 py-3 text-left text-sm font-semibold text-gray-700 dark:text-gray-200"},[t("i",{class:"fas fa-weight mr-1"}),r("Coef ")]),t("th",{class:"w-1/6 px-4 py-3 text-left text-sm font-semibold text-gray-700 dark:text-gray-200"},[t("i",{class:"fas fa-cogs mr-1"}),r("Actions ")])])],-1)),t("tbody",null,[(d(!0),n(p,null,w(v.value,(s,V)=>(d(),n("tr",{key:s.id,class:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 animate-row-in",style:H({animationDelay:`${.1*V}s`})},[t("td",Y,l(s.id),1),t("td",{class:"px-4 py-3 text-gray-900 dark:text-gray-100 text-sm truncate",title:s.nom},l(s.nom),9,Z),t("td",{class:"px-4 py-3 text-gray-900 dark:text-gray-100 text-sm truncate",title:s.description},l(S(s.description,30)),9,tt),t("td",et,l(s.heures_hebdo),1),t("td",st,l(s.heures_total),1),t("td",{class:"px-4 py-3 text-gray-900 dark:text-gray-100 text-sm truncate",title:s.formateur},l(s.formateur),9,at),t("td",rt,l(s.heures_total/10),1),t("td",lt,[c(C,{href:a.route("disciplines.edit",s.id),class:"text-yellow-600 dark:text-yellow-400 hover:text-yellow-700 dark:hover:text-yellow-300 transition-colors duration-200 flex items-center text-sm"},{default:y(()=>e[7]||(e[7]=[t("i",{class:"fas fa-edit mr-1 animate-pulse"},null,-1),r(" Modifier ")])),_:2},1032,["href"]),t("button",{onClick:ct=>P(s.id),class:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 transition-colors duration-200 flex items-center text-sm"},e[8]||(e[8]=[t("i",{class:"fas fa-trash mr-1 animate-pulse"},null,-1),r(" Supprimer ")]),8,ot)])],4))),128)),v.value.length===0?(d(),n("tr",it,e[9]||(e[9]=[t("td",{colspan:"8",class:"px-4 py-6 text-center text-gray-500 dark:text-gray-400 animate-pulse"},[t("i",{class:"fas fa-exclamation-circle mr-2 text-xl"}),r(" Aucune discipline trouvée ")],-1)]))):_("",!0)])])]),i.value.length>0?(d(),n("div",nt,[t("button",{onClick:M,disabled:o.value===1,class:"px-2 py-1 bg-blue-500 text-white rounded disabled:bg-gray-300 dark:disabled:bg-gray-600 hover:bg-blue-600 transition-all duration-200"},e[11]||(e[11]=[t("i",{class:"fas fa-arrow-left"},null,-1)]),8,dt),t("span",ut," Page "+l(o.value)+" / "+l(m.value)+" ("+l(i.value.length)+" disciplines) ",1),t("button",{onClick:N,disabled:o.value===m.value,class:"px-2 py-1 bg-blue-500 text-white rounded disabled:bg-gray-300 dark:disabled:bg-gray-600 hover:bg-blue-600 transition-all duration-200"},e[12]||(e[12]=[t("i",{class:"fas fa-arrow-right"},null,-1)]),8,xt)])):_("",!0)])])]),_:1})],64))}}),ht=U(ft,[["__scopeId","data-v-8f579a28"]]);export{ht as default};
